# @package _global_
tag: BCI2A_TCN_LR

# compute / io
gpus: 1
num_nodes: 1
num_workers: 0
batch_size: 64

training: True
final_validate: True
final_test: True
finetune_pretrained: False

input_normalization:
  normalize: true
  quartile_normalization_lower_val: -20
  quartile_normalization_upper_val: 20

io:
  base_output_path: "C:/Users/elisa/Documents/elisa_projects/BioFoundation/runs/tb"
  checkpoint_dirpath: ${env:CHECKPOINT_DIR}
  version: 0

defaults:
  - override /data_module: bci2a_finetune
  - override /model: BCI2A_TCN_LR_baseline     
  - override /task: finetune_task_tcn
  - override /criterion: finetune_criterion
  - override /scheduler: cosine

model:
  classification_type: "bc" # binary classification

trainer:
  accelerator: gpu
  devices: ${gpus}
  num_nodes: ${num_nodes}
  strategy: auto
  max_epochs: 100

model_checkpoint:
  save_last: True
  monitor: "val_loss"
  mode: "min"
  save_top_k: 1

optimizer:
  optim: AdamW
  lr: 1e-3
  weight_decay: 1e-4

scheduler_type: cosine

scheduler:
  trainer: ${trainer}
  min_lr: 2.5e-6
  warmup_lr_init: 2.5e-7
  warmup_epochs: 10
